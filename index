<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sistema Sottotitoli + Teleprompter</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="container" id="appRoot">
    <header class="app-header">
      <h1>ğŸ¬ Sistema di Sottotitoli & Teleprompter</h1>
      <p class="subtitle">Analisi HTML + sottotitoli scorrevoli + teleprompter professionale (OBS-ready)</p>
      <div class="status-line">
        <span class="status-indicator status-active"></span>
        <span>Sistema attivo e pronto allâ€™uso</span>
      </div>

      <div class="top-modebar">
        <button class="secondary" id="modeStudio">ğŸ§© Studio</button>
        <button class="secondary" id="modeTeleprompter">ğŸ“œ Solo Teleprompter</button>
        <button class="secondary" id="modeSubtitles">ğŸ¥ Solo Sottotitoli</button>

        <label class="toggle">
          <input type="checkbox" id="obsGreen" />
          <span>ğŸŸ© Green screen (OBS)</span>
        </label>

        <label class="toggle">
          <input type="checkbox" id="obsTransparent" />
          <span>ğŸ«¥ Trasparenza (browser source)</span>
        </label>
      </div>
    </header>

    <!-- SOTTOTITOLI -->
    <section class="block" id="subtitlesBlock">
      <h2>ğŸ¥ Sottotitoli Scorrevoli</h2>

      <div class="subtitle-display" id="subtitleDisplay">
        <div id="subtitle" class="subtitle-text">
          Sistema di sottotitoli scorrevoli attivo. Usa la caption o scrivi il tuo testo.
        </div>
      </div>

      <div class="controls">
        <button class="success" id="startSubtitle"><span>â–¶</span> Avvia</button>
        <button class="warning" id="stopSubtitle"><span>â¸</span> Pausa</button>
        <button class="secondary" id="resetSubtitle"><span>â†º</span> Reset</button>

        <div class="control-group">
          <label for="subtitleSpeed">VelocitÃ </label>
          <input type="range" id="subtitleSpeed" min="1" max="30" value="10" />
          <div class="pill" id="subtitleSpeedValue">10</div>
        </div>

        <div class="control-group">
          <label for="subtitleFont">Font</label>
          <input type="range" id="subtitleFont" min="18" max="72" value="36" />
          <div class="pill" id="subtitleFontValue">36px</div>
        </div>
      </div>
    </section>

    <div class="grid" id="studioGrid">
      <!-- ANALISI HTML -->
      <section class="panel">
        <h2>ğŸ” Analisi Codice HTML</h2>

        <div class="instructions">
          <h3>ğŸ“‹ Come funziona</h3>
          <ul>
            <li>Incolla il tuo HTML</li>
            <li>Premi â€œAnalizzaâ€</li>
            <li>Il sistema segnala e corregge problemi comuni</li>
            <li>Puoi copiare il codice corretto</li>
          </ul>
        </div>

        <textarea id="htmlInput" class="code-input" spellcheck="false" placeholder="Incolla qui il tuo HTML..."></textarea>

        <div class="button-row">
          <button class="success" id="analyzeCode"><span>ğŸ”</span> Analizza</button>
          <button class="secondary" id="whatsappBtn"><span>ğŸ“±</span> What's Up</button>
          <button class="secondary" id="teleprompterBtn"><span>ğŸ“œ</span> Teleprompter</button>
          <button class="secondary" id="cameraBtn"><span>ğŸ“·</span> Camera</button>
        </div>

        <div class="results-container">
          <h3>ğŸ§ª Test FunzionalitÃ </h3>
          <div id="functionResults" class="functionality-test"></div>
        </div>
      </section>

      <!-- RISULTATI + CODICE -->
      <section class="panel">
        <h2>âœ… Risultati & Codice</h2>

        <div id="analysisResults" class="code-output">
          <div class="message info">
            <strong>â„¹ï¸</strong> Pronto: incolla HTML e premi â€œAnalizzaâ€.
          </div>
        </div>

        <div class="button-row">
          <button class="success" id="copyCode"><span>ğŸ“‹</span> Copia</button>
          <button class="secondary" id="clearResults"><span>ğŸ—‘ï¸</span> Pulisci</button>
        </div>

        <div class="instructions">
          <h3>âš ï¸ Cose che corregge</h3>
          <ul>
            <li>DOCTYPE</li>
            <li>html/head/body mancanti</li>
            <li>charset + viewport</li>
            <li>title</li>
            <li>warning immagini senza alt</li>
          </ul>
        </div>
      </section>
    </div>

    <!-- CAPTION -->
    <section class="block" id="captionBlock">
      <h2>ğŸ“ Caption / Testo</h2>

      <textarea id="captionText" class="caption-input" placeholder="Scrivi qui testo..."></textarea>

      <div class="button-row">
        <button class="success" id="useCaptionForSubtitle"><span>ğŸ¬</span> Usa per Sottotitoli</button>
        <button class="success" id="useCaptionForTeleprompter"><span>ğŸ“œ</span> Usa per Teleprompter</button>
        <button class="secondary" id="clearCaption"><span>âœï¸</span> Svuota</button>
        <button class="secondary" id="sampleCaption"><span>ğŸ“„</span> Esempio</button>
      </div>
    </section>

    <!-- TELEPROMPTER -->
    <section class="block" id="teleprompterBlock">
      <h2>ğŸ“œ Teleprompter</h2>

      <div class="teleprompter-stage" id="teleStage">
        <div class="safe-frame" aria-hidden="true"></div>
        <div class="teleprompter-viewport" id="teleViewport">
          <div class="teleprompter-content" id="teleContent"></div>
        </div>
      </div>

      <div class="controls">
        <button class="success" id="telePlay"><span>â–¶</span> Play</button>
        <button class="warning" id="telePause"><span>â¸</span> Pausa</button>
        <button class="secondary" id="teleReset"><span>â†º</span> Reset</button>

        <div class="control-group">
          <label for="teleSpeed">VelocitÃ </label>
          <input type="range" id="teleSpeed" min="1" max="40" value="10" />
          <div class="pill" id="teleSpeedValue">10</div>
        </div>

        <div class="control-group">
          <label for="teleFont">Font</label>
          <input type="range" id="teleFont" min="18" max="64" value="34" />
          <div class="pill" id="teleFontValue">34px</div>
        </div>

        <div class="control-group">
          <label for="teleLine">Interlinea</label>
          <input type="range" id="teleLine" min="1.1" max="2.2" step="0.1" value="1.5" />
          <div class="pill" id="teleLineValue">1.5</div>
        </div>

        <label class="toggle">
          <input type="checkbox" id="teleMirror" />
          <span>ğŸª Mirror</span>
        </label>

        <label class="toggle">
          <input type="checkbox" id="teleGuide" checked />
          <span>ğŸ§· Guide (safe area)</span>
        </label>
      </div>

      <div class="hint">
        Hotkeys: <kbd>Space</kbd> play/pausa â€¢ <kbd>R</kbd> reset â€¢ <kbd>â†‘</kbd>/<kbd>â†“</kbd> velocitÃ  â€¢ <kbd>+</kbd>/<kbd>-</kbd> font â€¢ <kbd>M</kbd> mirror â€¢ <kbd>G</kbd> guide
      </div>
    </section>

    <footer class="app-footer">
      <div>ğŸ› ï¸ Sistema per sottotitoli e teleprompter (pulito + OBS-ready)</div>
    </footer>
  </div>

  <script src="app.js"></script>
</body>
</html>
