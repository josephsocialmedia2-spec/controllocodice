* { margin: 0; padding: 0; box-sizing: border-box; }
:root{
  --bg1:#0f172a; --bg2:#1e293b;
  --panel: rgba(30,41,59,.82);
  --panel2: rgba(15,23,42,.9);
  --border:#334155; --border2:#475569;
  --cyan:#38bdf8; --text:#f1f5f9; --muted:#94a3b8;
  --ok:#10b981; --warn:#f59e0b; --err:#ef4444;
}

body{
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 100%);
  color: var(--text);
  min-height: 100vh;
  padding: 18px;
  line-height: 1.6;
}

body.obs-green { background: #00ff00 !important; }
body.obs-transparent { background: transparent !important; }

.container{ max-width: 1200px; margin: 0 auto; }
.app-header{
  text-align:center;
  margin-bottom: 18px;
  padding: 24px;
  background: rgba(30,41,59,.7);
  border: 1px solid var(--border);
  border-radius: 15px;
  box-shadow: 0 10px 30px rgba(0,0,0,.3);
}
.app-header h1{ color: var(--cyan); font-size: 2.2rem; text-shadow: 0 2px 10px rgba(56,189,248,.25); }
.app-header .subtitle{ color: var(--muted); margin-top: 6px; }
.status-line{ margin-top: 10px; display:flex; justify-content:center; align-items:center; gap:10px; color: var(--muted); }
.status-indicator{ width:12px; height:12px; border-radius:50%; display:inline-block; }
.status-active{ background: var(--ok); box-shadow: 0 0 10px var(--ok); animation: pulse 2s infinite; }
@keyframes pulse{ 0%{opacity:1} 50%{opacity:.5} 100%{opacity:1} }

.top-modebar{
  margin-top: 14px;
  display:flex;
  flex-wrap:wrap;
  justify-content:center;
  gap: 10px;
}

.grid{
  display:grid;
  grid-template-columns: 1fr 1fr;
  gap: 18px;
  margin: 18px 0;
}
@media (max-width: 992px){
  .grid{ grid-template-columns: 1fr; }
}

.panel, .block{
  background: var(--panel);
  border: 1px solid var(--border);
  border-radius: 15px;
  padding: 20px;
  box-shadow: 0 8px 25px rgba(0,0,0,.2);
  backdrop-filter: blur(10px);
}

.panel h2, .block h2{
  color: var(--cyan);
  margin-bottom: 14px;
  padding-bottom: 10px;
  border-bottom: 2px solid var(--border);
  display:flex;
  align-items:center;
  gap:10px;
  font-size: 1.35rem;
}

.instructions{
  background: rgba(56,189,248,.1);
  border: 1px solid rgba(56,189,248,.28);
  border-radius: 10px;
  padding: 14px;
  margin-bottom: 14px;
}
.instructions h3{ color: var(--cyan); margin-bottom: 8px; font-size: 1rem; }
.instructions ul{ padding-left: 18px; color: #cbd5e1; }
.instructions li{ margin-bottom: 6px; }

textarea.code-input, textarea.caption-input{
  width:100%;
  border-radius: 10px;
  border: 2px solid var(--border2);
  background: var(--panel2);
  color: var(--text);
  padding: 16px;
  outline: none;
}
textarea.code-input{
  min-height: 320px;
  font-family: Consolas, Monaco, monospace;
  font-size: 14px;
  resize: vertical;
}
textarea.caption-input{
  min-height: 140px;
  font-size: 16px;
  resize: vertical;
}
textarea:focus{
  border-color: var(--cyan);
  box-shadow: 0 0 0 3px rgba(56,189,248,.12);
}

.button-row, .controls{
  display:flex;
  flex-wrap:wrap;
  gap: 10px;
  align-items:center;
  justify-content:center;
  margin-top: 12px;
}

button{
  border: none;
  border-radius: 10px;
  padding: 12px 18px;
  cursor:pointer;
  font-weight: 700;
  color: white;
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  transition: transform .18s ease, box-shadow .18s ease, opacity .18s ease;
  display:flex;
  align-items:center;
  gap: 8px;
}
button:hover{ transform: translateY(-2px); box-shadow: 0 8px 18px rgba(37,99,235,.35); }
button:active{ transform: translateY(-1px); }
button:disabled{ opacity: .55; cursor: not-allowed; box-shadow:none; transform:none; }

button.secondary{ background: linear-gradient(135deg, #475569 0%, #334155 100%); }
button.success{ background: linear-gradient(135deg, #10b981 0%, #059669 100%); }
button.warning{ background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); }

.control-group{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  background: rgba(15,23,42,.65);
  border: 1px solid var(--border2);
  border-radius: 10px;
}
.control-group label{ color: var(--muted); font-weight: 700; font-size: .95rem; }
.control-group input[type="range"]{ width: 180px; accent-color: var(--cyan); }
.pill{
  border: 1px solid var(--border);
  background: var(--bg1);
  color: var(--cyan);
  border-radius: 999px;
  padding: 4px 10px;
  min-width: 64px;
  text-align:center;
  font-weight: 800;
}

.toggle{
  display:flex;
  align-items:center;
  gap: 10px;
  padding: 10px 12px;
  background: rgba(15,23,42,.65);
  border: 1px solid var(--border2);
  border-radius: 10px;
  user-select:none;
}
.toggle input{ accent-color: var(--cyan); }

.code-output{
  background: var(--panel2);
  border: 2px solid var(--border);
  border-radius: 10px;
  padding: 16px;
  max-height: 420px;
  overflow:auto;
  font-family: Consolas, Monaco, monospace;
  font-size: 13px;
}

.message{
  padding: 12px;
  border-radius: 10px;
  margin-bottom: 10px;
  border-left: 5px solid;
}
.message.info{ color:#60a5fa; background: rgba(96,165,250,.12); border-color:#60a5fa; }
.message.success{ color: var(--ok); background: rgba(16,185,129,.12); border-color: var(--ok); }
.message.warning{ color:#fbbf24; background: rgba(251,191,36,.12); border-color:#fbbf24; }
.message.error{ color:#f87171; background: rgba(248,113,113,.12); border-color:#f87171; }

.functionality-test{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(260px,1fr));
  gap: 12px;
  margin-top: 10px;
}
.test-item{
  background: var(--panel2);
  border: 2px solid var(--border);
  border-radius: 12px;
  padding: 14px;
  display:flex;
  gap: 12px;
  align-items:center;
}
.test-icon{
  width: 54px; height:54px;
  border-radius: 50%;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(56,189,248,.12);
  color: var(--cyan);
  font-size: 1.8rem;
}
.test-title{ font-weight: 800; }
.test-status{
  margin-top: 4px;
  display:inline-block;
  padding: 4px 10px;
  border-radius: 999px;
  font-weight: 800;
  font-size: .9rem;
}
.status-success{ background: rgba(16,185,129,.2); color: var(--ok); }
.status-neutral{ background: rgba(148,163,184,.2); color: var(--muted); }

.subtitle-display{
  position: relative;
  width:100%;
  height: 120px;
  background: var(--panel2);
  border: 2px solid var(--border2);
  border-radius: 12px;
  overflow:hidden;
  display:flex;
  align-items:center;
}
.subtitle-text{
  position:absolute;
  white-space: nowrap;
  font-weight: 900;
  color: #fff;
  text-shadow: 0 0 18px rgba(56,189,248,.75), 2px 2px 4px rgba(0,0,0,.5);
  letter-spacing: .6px;
  left: 100%;
}

.teleprompter-stage{
  position: relative;
  background: var(--panel2);
  border: 2px solid var(--border2);
  border-radius: 12px;
  overflow:hidden;
  height: 52vh;
  min-height: 340px;
}
.teleprompter-viewport{
  position:absolute;
  inset: 0;
  overflow:hidden;
  padding: 6vh 6vw;
}
.teleprompter-content{
  transform: translateY(0px);
  will-change: transform;
  font-weight: 800;
  color: #fff;
  text-shadow: 0 0 14px rgba(56,189,248,.35), 2px 2px 4px rgba(0,0,0,.55);
  white-space: pre-wrap;
}

.safe-frame{
  position:absolute;
  inset: 6%;
  border: 2px dashed rgba(56,189,248,.35);
  border-radius: 12px;
  pointer-events:none;
  display:block;
}
.hidden{ display:none !important; }

.hint{
  margin-top: 10px;
  color: var(--muted);
  text-align:center;
  font-size: .95rem;
}
kbd{
  background: rgba(15,23,42,.75);
  border: 1px solid var(--border2);
  border-bottom-width: 2px;
  padding: 2px 8px;
  border-radius: 8px;
  font-weight: 800;
  color: var(--text);
}

.app-footer{
  margin-top: 18px;
  text-align:center;
  padding: 16px;
  border-top: 2px solid var(--border);
  color: var(--muted);
  background: rgba(30,41,59,.65);
  border-radius: 15px;
}
